"use strict";(self["webpackChunkcommand_manager"]=self["webpackChunkcommand_manager"]||[]).push([[443],{8098:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3396),vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4870),element_plus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7178),element_plus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6e3),_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1791);const _withScopeId=_=>((0,vue__WEBPACK_IMPORTED_MODULE_0__.dD)("data-v-cde5ba44"),_=_(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Cn)(),_),_hoisted_1=_withScopeId((()=>(0,vue__WEBPACK_IMPORTED_MODULE_0__._)("span",{class:"text--white"}," 导入配置 ",-1)));__webpack_exports__.Z={__name:"manifest",setup(__props){const type=(0,vue__WEBPACK_IMPORTED_MODULE_2__.iH)("String"),types=(0,vue__WEBPACK_IMPORTED_MODULE_2__.iH)(["String","Number","Boolean"]),property=(0,vue__WEBPACK_IMPORTED_MODULE_2__.iH)(""),value=(0,vue__WEBPACK_IMPORTED_MODULE_2__.iH)(""),propertys=(0,vue__WEBPACK_IMPORTED_MODULE_2__.qj)({}),form=(0,vue__WEBPACK_IMPORTED_MODULE_2__.qj)({}),baseForm=(0,vue__WEBPACK_IMPORTED_MODULE_2__.qj)({}),handleAdd=()=>{["commands"].includes(property.value)?element_plus__WEBPACK_IMPORTED_MODULE_3__.z8.error(`不能添加属性${property.value}`):property.value?(propertys[property.value]={Boolean:Boolean,String:String,Number:Number}[type.value](value.value),property.value=value.value=""):element_plus__WEBPACK_IMPORTED_MODULE_3__.z8.error("不能添加空属性")},handleImport=async file=>{try{const data=await file.text();_common__WEBPACK_IMPORTED_MODULE_1__.I.value=eval("("+data+")")}catch(err){console.warn(err)}return!1},handleSave=()=>{_common__WEBPACK_IMPORTED_MODULE_1__.I.value=Object.assign({},_common__WEBPACK_IMPORTED_MODULE_1__.I.value,form)},handleRemove=_=>{element_plus__WEBPACK_IMPORTED_MODULE_4__.T.confirm(`是否删除属性${_.prop}`).then((()=>{delete baseForm[_.prop],delete propertys[_.prop]})).catch(console.log)};return(0,vue__WEBPACK_IMPORTED_MODULE_0__.YP)((()=>[_common__WEBPACK_IMPORTED_MODULE_1__.I.value,property.value]),(()=>{const _=Object.assign({},propertys,_common__WEBPACK_IMPORTED_MODULE_1__.I.value);Object.keys(_).forEach((e=>{if(!(_[e]instanceof Object)){const l=_[e];form[e]=l,baseForm[e]={prop:e,value:l,type:typeof l}}}))}),{immediate:!0}),(_,e)=>{const l=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("Minus"),a=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-icon"),u=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-button"),t=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-input"),o=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-form-item"),E=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-upload"),n=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-form"),r=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-main"),d=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-option"),p=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-select"),m=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-aside"),O=(0,vue__WEBPACK_IMPORTED_MODULE_0__.up)("el-container");return(0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.j4)(O,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(r,{style:{"--el-main-padding":"0px 20px"}},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(n,{model:form,"label-width":"120px"},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[((0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_0__.iD)(vue__WEBPACK_IMPORTED_MODULE_0__.HY,null,(0,vue__WEBPACK_IMPORTED_MODULE_0__.Ko)(baseForm,(_=>((0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.j4)(o,{key:_.prop,label:_.prop},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(t,{modelValue:form[_.prop],"onUpdate:modelValue":e=>form[_.prop]=e},{append:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(u,{onClick:e=>handleRemove(_),icon:""},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(a,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(l)])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])))),128)),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(o,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(u,{type:"danger"},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(E,{"before-upload":handleImport,"show-file-list":!1},{trigger:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[_hoisted_1])),_:1})])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(u,{type:"success",onClick:(0,vue__WEBPACK_IMPORTED_MODULE_2__.SU)(_common__WEBPACK_IMPORTED_MODULE_1__.g)},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Uk)("导出配置")])),_:1},8,["onClick"]),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(u,{type:"primary",onClick:handleSave},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Uk)("保存配置")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(m,{width:"300px"},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(n,{model:baseForm},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(o,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(t,{placeholder:"属性名",modelValue:property.value,"onUpdate:modelValue":e[0]||(e[0]=_=>property.value=_)},null,8,["modelValue"])])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(o,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(t,{placeholder:"属性值",modelValue:value.value,"onUpdate:modelValue":e[1]||(e[1]=_=>value.value=_)},null,8,["modelValue"])])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(o,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(p,{placeholder:"类型",modelValue:type.value,"onUpdate:modelValue":e[2]||(e[2]=_=>type.value=_)},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[((0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(!0),(0,vue__WEBPACK_IMPORTED_MODULE_0__.iD)(vue__WEBPACK_IMPORTED_MODULE_0__.HY,null,(0,vue__WEBPACK_IMPORTED_MODULE_0__.Ko)(types.value,(_=>((0,vue__WEBPACK_IMPORTED_MODULE_0__.wg)(),(0,vue__WEBPACK_IMPORTED_MODULE_0__.j4)(d,{key:_,label:_,value:_},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(o,null,{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Wm)(u,{type:"primary",onClick:handleAdd},{default:(0,vue__WEBPACK_IMPORTED_MODULE_0__.w5)((()=>[(0,vue__WEBPACK_IMPORTED_MODULE_0__.Uk)("新增")])),_:1})])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})}}}},1791:function(_,e,l){l.d(e,{I:function(){return u},g:function(){return o}});l(6229),l(7330),l(2062);var a=l(6367);const u=(0,a.y$C)("manifest",{},localStorage,{mergeDefaults:!0}),t=_=>{const e=document.createElement("a");e.href=URL.createObjectURL(new Blob([_])),e.download="manifest.json",e.click()},o=()=>{t(JSON.stringify(u.value,null,2))}},9733:function(_,e,l){l.r(e),l.d(e,{default:function(){return T}});var a,u=l(3396),t=l(4870),o=l(7139),E=(l(1439),l(7585),l(5315),new Uint8Array(16));function n(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(E)}l(7658);var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function d(_){return"string"===typeof _&&r.test(_)}for(var p=d,m=[],O=0;O<256;++O)m.push((O+256).toString(16).substr(1));function D(_){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=(m[_[e+0]]+m[_[e+1]]+m[_[e+2]]+m[_[e+3]]+"-"+m[_[e+4]]+m[_[e+5]]+"-"+m[_[e+6]]+m[_[e+7]]+"-"+m[_[e+8]]+m[_[e+9]]+"-"+m[_[e+10]]+m[_[e+11]]+m[_[e+12]]+m[_[e+13]]+m[_[e+14]]+m[_[e+15]]).toLowerCase();if(!p(l))throw TypeError("Stringified UUID is invalid");return l}var v=D;function P(_,e,l){_=_||{};var a=_.random||(_.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){l=l||0;for(var u=0;u<16;++u)e[l+u]=a[u];return e}return v(a)}var M=P,i=l(1791),W={__name:"add",props:{active:{type:String},row:{type:Object,default:()=>({})}},emits:["back"],setup(_,{emit:e}){const l=_,a=(0,t.iH)(i.I.value.commands),E=()=>({form:Object.assign({name:"",path:"",port:"",nodeVersion:"",keywords:"",commandLines:"",desc:"",defaultRun:!1},l.row.uuid?l.row:{})}),n=(0,t.iH)(E().form),r=()=>{"edit"===l.active&&l.row.uuid?a.value=a.value.map((_=>_.uuid===l.row.uuid?Object.assign({},_,n.value):_)):(a.value=a.value.concat(Object.assign({},n.value,{uuid:M()})),n.value=E().form),i.I.value=Object.assign({},i.I.value,{commands:a.value}),setTimeout((()=>{e("back")}),500)};return(0,u.YP)((()=>l.active),(()=>{n.value=E().form})),(e,l)=>{const a=(0,u.up)("el-input"),t=(0,u.up)("el-form-item"),E=(0,u.up)("el-col"),d=(0,u.up)("el-option"),p=(0,u.up)("el-select"),m=(0,u.up)("el-switch"),O=(0,u.up)("el-row"),D=(0,u.up)("el-button"),v=(0,u.up)("el-form");return(0,u.wg)(),(0,u.j4)(v,{model:n.value,"label-width":"140px"},{default:(0,u.w5)((()=>[(0,u.Wm)(O,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"脚本名称",prop:"name"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.name,"onUpdate:modelValue":l[0]||(l[0]=_=>n.value.name=_)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"脚本路径",prop:"path"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.path,"onUpdate:modelValue":l[1]||(l[1]=_=>n.value.path=_)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"端口",prop:"port"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.port,"onUpdate:modelValue":l[2]||(l[2]=_=>n.value.port=_)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"关键词(逗号分割)",prop:"keywords"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.keywords,"onUpdate:modelValue":l[3]||(l[3]=_=>n.value.keywords=_)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"node版本",prop:"nodeVersion"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.nodeVersion,"onUpdate:modelValue":l[4]||(l[4]=_=>n.value.nodeVersion=_)},null,8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"终端",prop:"terminal"},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{placeholder:"选择要使用的终端",modelValue:n.value.terminal,"onUpdate:modelValue":l[5]||(l[5]=_=>n.value.terminal=_)},{default:(0,u.w5)((()=>[(0,u.Wm)(d,{lable:"cmd",value:"cmd"}),(0,u.Wm)(d,{lable:"git",value:"git"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,u.Wm)(E,{span:8},{default:(0,u.w5)((()=>[(0,u.Wm)(t,{label:"默认运行",prop:"defaultRun"},{default:(0,u.w5)((()=>[(0,u.Wm)(m,{modelValue:n.value.defaultRun,"onUpdate:modelValue":l[6]||(l[6]=_=>n.value.defaultRun=_),"active-text":"开启","inactive-text":"关闭"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,u.Wm)(t,{label:"命令组(换行符分割)",prop:"commandLines"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.commandLines,"onUpdate:modelValue":l[7]||(l[7]=_=>n.value.commandLines=_),type:"textarea",rows:5},null,8,["modelValue"])])),_:1}),(0,u.Wm)(t,{label:"备注说明",prop:"desc"},{default:(0,u.w5)((()=>[(0,u.Wm)(a,{modelValue:n.value.desc,"onUpdate:modelValue":l[8]||(l[8]=_=>n.value.desc=_),type:"textarea",rows:5},null,8,["modelValue"])])),_:1}),(0,u.Wm)(t,null,{default:(0,u.w5)((()=>[(0,u.Wm)(D,{type:"primary",onClick:r},{default:(0,u.w5)((()=>[(0,u.Uk)((0,o.zw)("edit"===_.active?"修改":"添加"),1)])),_:1})])),_:1})])),_:1},8,["model"])}}},s=l(89);const c=(0,s.Z)(W,[["__scopeId","data-v-cf8cb658"]]);var U=c,C={__name:"list",emits:["edit","copy"],setup(_,{emit:e}){const l=(0,t.iH)(i.I.value.commands);return(_,a)=>{const o=(0,u.up)("el-table-column"),E=(0,u.up)("el-button"),n=(0,u.up)("el-table"),r=(0,u.up)("el-space");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(n,{data:l.value},{default:(0,u.w5)((()=>[(0,u.Wm)(o,{type:"index",label:"序号",width:"64"}),(0,u.Wm)(o,{prop:"name",label:"脚本名称"}),(0,u.Wm)(o,{prop:"path",label:"脚本路径"}),(0,u.Wm)(o,{prop:"port",label:"端口"}),(0,u.Wm)(o,{prop:"keywords",label:"关键词"}),(0,u.Wm)(o,{prop:"nodeVersion",label:"node版本"}),(0,u.Wm)(o,{prop:"terminal",label:"终端"}),(0,u.Wm)(o,{prop:"handle",label:"操作"},{default:(0,u.w5)((({row:_})=>[(0,u.Wm)(E,{type:"primary",size:"small",onClick:l=>e("edit",_)},{default:(0,u.w5)((()=>[(0,u.Uk)("修改")])),_:2},1032,["onClick"]),(0,u.Wm)(E,{type:"primary",size:"small",onClick:l=>e("copy",_)},{default:(0,u.w5)((()=>[(0,u.Uk)("复制")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,u.Wm)(r,null,{default:(0,u.w5)((()=>[(0,u.Wm)(E,{type:"success",onClick:(0,t.SU)(i.g)},{default:(0,u.w5)((()=>[(0,u.Uk)("导出配置")])),_:1},8,["onClick"])])),_:1})],64)}}};const f=(0,s.Z)(C,[["__scopeId","data-v-6bd161d6"]]);var I=f,w=l(8098);const R=(0,s.Z)(w.Z,[["__scopeId","data-v-cde5ba44"]]);var L=R,B={__name:"index",setup(_){const e=(0,t.iH)("manifest"),l=(0,t.iH)({}),a=(_,a)=>{e.value=_,l.value=a};return(_,o)=>{const E=(0,u.up)("el-row"),n=(0,u.up)("el-aside"),r=(0,u.up)("el-main"),d=(0,u.up)("el-container");return(0,u.wg)(),(0,u.j4)(d,null,{default:(0,u.w5)((()=>[(0,u.Wm)(n,{width:"240px"},{default:(0,u.w5)((()=>[(0,u.Wm)(E,{onClick:o[0]||(o[0]=_=>e.value="manifest")},{default:(0,u.w5)((()=>[(0,u.Uk)(" 配置 ")])),_:1}),(0,u.Wm)(E,{onClick:o[1]||(o[1]=_=>e.value="list")},{default:(0,u.w5)((()=>[(0,u.Uk)(" 命令列表 ")])),_:1}),(0,u.Wm)(E,{onClick:o[2]||(o[2]=_=>e.value="add")},{default:(0,u.w5)((()=>[(0,u.Uk)(" 新增命令 ")])),_:1})])),_:1}),(0,u.Wm)(r,null,{default:(0,u.w5)((()=>[["add","edit","copy"].includes(e.value)?((0,u.wg)(),(0,u.j4)((0,t.SU)(U),{key:0,active:e.value,row:l.value,onBack:o[3]||(o[3]=_=>e.value="list")},null,8,["active","row"])):(0,u.kq)("",!0),"list"===e.value?((0,u.wg)(),(0,u.j4)((0,t.SU)(I),{key:1,onEdit:o[4]||(o[4]=_=>a("edit",_)),onCopy:o[5]||(o[5]=_=>a("copy",_))})):(0,u.kq)("",!0),"manifest"===e.value?((0,u.wg)(),(0,u.j4)((0,t.SU)(L),{key:2})):(0,u.kq)("",!0)])),_:1})])),_:1})}}};const A=(0,s.Z)(B,[["__scopeId","data-v-3a0ef32d"]]);var T=A}}]);
//# sourceMappingURL=about.599dbb3e.js.map