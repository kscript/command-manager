"use strict";(self["webpackChunkcommand_manager"]=self["webpackChunkcommand_manager"]||[]).push([[453],{7877:function(e,_,t){var a=t(6573);_.Z={export(e){return(0,a.a)("export","post",e)},open(e){return(0,a.a)("open","post",e)}}},6573:function(e,_,t){t.d(_,{S:function(){return r},a:function(){return n}});t(6229),t(7330),t(2062);var a={baseUrl:"http://localhost:27001/"};const n=(e,_,t)=>new Promise(((n,r)=>{fetch(`${a.baseUrl}${e}`,{method:_,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{200===e.code&&n(e)})).catch(r)})),r=e=>{const _=document.createElement("a");_.href=URL.createObjectURL(new Blob([e])),_.download="manifest.json",_.click()}},1791:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{BG:function(){return handleExportBefore},ET:function(){return handleImport},IF:function(){return manifest},hM:function(){return handleImportBefore}});var vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4870),_vueuse_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6367),element_plus__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6e3),element_plus__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7178),_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7877),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6573);const state=(0,vue__WEBPACK_IMPORTED_MODULE_2__.qj)({import:!1,export:!1}),manifest=(0,_vueuse_core__WEBPACK_IMPORTED_MODULE_3__.y$C)("manifest",{},localStorage,{mergeDefaults:!0}),handleImportBefore=e=>{state.import||(element_plus__WEBPACK_IMPORTED_MODULE_4__.T.confirm("导入配置后, 将会覆盖当前配置, 是否确认?",{title:"确认导入配置",type:"warning"}).then((()=>{state.import=!0,e.target.click()})).catch(console.log),e.stopPropagation())},handleImport=async file=>{try{const data=await file.text();manifest.value=eval("("+data+")")}catch(err){console.warn(err)}return!1},handleExportBefore=e=>{state.export?handleExport():manifest.value.path&&element_plus__WEBPACK_IMPORTED_MODULE_4__.T.confirm(`是否要导出配置到 ${manifest.value.path}`,{title:"确认导出配置",type:"warning"}).then((()=>{state.export=!0,handleExport()})).catch(console.log)},handleExport=()=>{_api__WEBPACK_IMPORTED_MODULE_0__.Z.export(manifest.value).then((()=>{element_plus__WEBPACK_IMPORTED_MODULE_5__.z8.success("导出成功")})).catch((()=>{(0,_utils__WEBPACK_IMPORTED_MODULE_1__.S)(JSON.stringify(manifest.value,null,2))}))},handleOutput=()=>{console.log(manifest.value)}},1587:function(e,_,t){t.r(_),t.d(_,{default:function(){return c}});t(7658);var a=t(3396),n=t(4870),r=t(7877),o=t(1791),l=t(2436),p={__name:"list",setup(e){const _=(e,_)=>{l.Z.push({name:e,query:{uuid:_.uuid}})},t=e=>{r.Z.open(e)},p=(0,n.iH)(o.IF.value.commands);return(e,n)=>{const r=(0,a.up)("el-table-column"),o=(0,a.up)("el-button"),l=(0,a.up)("el-table");return(0,a.wg)(),(0,a.j4)(l,{data:p.value,onDblclick:n[0]||(n[0]=e=>_("managerEdit",e))},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{type:"index",label:"序号",width:"60"}),(0,a.Wm)(r,{prop:"name",label:"名称",width:"120"}),(0,a.Wm)(r,{prop:"port",label:"端口",width:"120"}),(0,a.Wm)(r,{prop:"nodeVersion",label:"node版本",width:"90"}),(0,a.Wm)(r,{prop:"terminal",label:"终端",width:"64"}),(0,a.Wm)(r,{prop:"path",label:"脚本路径"}),(0,a.Wm)(r,{prop:"keywords",label:"关键词"}),(0,a.Wm)(r,{prop:"desc",label:"备注"}),(0,a.Wm)(r,{prop:"handle",label:"操作",width:"240"},{default:(0,a.w5)((({row:e})=>[(0,a.Wm)(o,{type:"info",size:"small",onClick:_=>t(e)},{default:(0,a.w5)((()=>[(0,a.Uk)("打开路径")])),_:2},1032,["onClick"]),(0,a.Wm)(o,{type:"warning",size:"small",onClick:t=>_("managerEdit",e)},{default:(0,a.w5)((()=>[(0,a.Uk)("修改")])),_:2},1032,["onClick"]),(0,a.Wm)(o,{type:"primary",size:"small",onClick:t=>_("managerCopy",e)},{default:(0,a.w5)((()=>[(0,a.Uk)("复制")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])}}},i=t(89);const u=(0,i.Z)(p,[["__scopeId","data-v-b365ad68"]]);var c=u}}]);
//# sourceMappingURL=managerList.dee6e447.js.map